@import "tailwindcss";

/* Palet dasar baru */
html { text-rendering: optimizeLegibility; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; }
body { background-color: #0C134F; color: #ffffff; }
/* Nuansa teks putih agar tidak flat */
.text-muted { color: rgba(255,255,255,0.7); }
.text-dim { color: rgba(255,255,255,0.85); }
@media (prefers-reduced-motion: no-preference) {
	:root { scroll-behavior: smooth; }
}

@keyframes fade-in-up {
  from { opacity: 0; transform: translateY(4px); }
  to   { opacity: 1; transform: translateY(0); }
}
.animate-fade-in-up { animation: fade-in-up 140ms ease-out; }

@keyframes slide-in-left {
  from { transform: translateX(-100%); }
  to   { transform: translateX(0); }
}
.animate-slide-in-left { animation: slide-in-left 180ms ease-out; }

/* Utilitas untuk menghindari inline style pada safe-area bottom */
.pb-safe-bottom {
  padding-bottom: max(0px, env(safe-area-inset-bottom));
}

/* Glass utilities: konsisten untuk panel, input, dan tombol */
.glass-panel {
  background: rgba(255,255,255,0.10);
  -webkit-backdrop-filter: saturate(1.15) blur(10px);
  backdrop-filter: saturate(1.15) blur(10px);
  border: 1px solid rgba(255,255,255,0.15);
}
.glass-input {
  background: rgba(255,255,255,0.10);
  color: #fff;
  border: 1px solid rgba(255,255,255,0.20);
}
.glass-button {
  background: rgba(255,255,255,0.10);
  color: #fff;
  border: 1px solid rgba(255,255,255,0.20);
}

/* Varian lebih pekat untuk dialog/popup penting */
.glass-panel-strong {
  background: rgba(255,255,255,0.30);
  -webkit-backdrop-filter: saturate(1.05) blur(16px);
  backdrop-filter: saturate(1.05) blur(16px);
  border: 1px solid rgba(255,255,255,0.25);
}

/* Backdrop overlay with subtle blur (for full-screen popovers/menus) */
.glass-backdrop {
  background: rgba(10, 14, 44, 0.92); /* darker + more blur */
  -webkit-backdrop-filter: blur(30px) brightness(0.65) saturate(1);
  backdrop-filter: blur(30px) brightness(0.65) saturate(1);
}
@supports not ((-webkit-backdrop-filter: blur(1px)) or (backdrop-filter: blur(1px))) {
  /* Fallback when backdrop filter unsupported: use darker color */
  .glass-backdrop { background: rgba(10, 14, 44, 0.95); }
}

/* Animated base background */
.site-bg {
  position: fixed;
  inset: 0;
  z-index: -1;
  pointer-events: none;
  overflow: hidden;
}
.site-bg .blob {
  position: absolute;
  width: 52vw;
  height: 52vw;
  max-width: 900px;
  max-height: 900px;
  border-radius: 50%;
  /* Avoid heavy blur filter for better perf; rely on gradient feathering */
  filter: none;
  opacity: 0.20;
  will-change: transform;
  mix-blend-mode: screen;
}
.site-bg .b1 { left: -10vw; top: -10vh; background: radial-gradient(circle at 50% 50%, rgba(99, 102, 241, 0.9), rgba(99, 102, 241, 0.0) 60%); animation: blob-move-1 70s ease-in-out infinite; }
.site-bg .b2 { right: -12vw; top: 5vh; background: radial-gradient(circle at 50% 50%, rgba(244, 63, 94, 0.85), rgba(244, 63, 94, 0.0) 60%); animation: blob-move-2 80s ease-in-out infinite; }
.site-bg .b3 { left: 10vw; bottom: -12vh; background: radial-gradient(circle at 50% 50%, rgba(34, 211, 238, 0.8), rgba(34, 211, 238, 0.0) 60%); animation: blob-move-3 85s ease-in-out infinite; }

@keyframes blob-move-1 {
  0% { transform: translate3d(0,0,0) scale(1); }
  50% { transform: translate3d(40vw, 25vh, 0) scale(1.15); }
  100% { transform: translate3d(0,0,0) scale(1); }
}
@keyframes blob-move-2 {
  0% { transform: translate3d(0,0,0) scale(1); }
  50% { transform: translate3d(-45vw, 35vh, 0) scale(1.1); }
  100% { transform: translate3d(0,0,0) scale(1); }
}
@keyframes blob-move-3 {
  0% { transform: translate3d(0,0,0) scale(1); }
  50% { transform: translate3d(25vw, -30vh, 0) scale(1.2); }
  100% { transform: translate3d(0,0,0) scale(1); }
}

/* Reduce motion and CPU/GPU load when requested or on small devices */
@media (prefers-reduced-motion: reduce) {
  .site-bg .blob { animation: none !important; }
}
@media (max-width: 640px) {
  .site-bg .blob { opacity: 0.16; }
}

/* ====== Lyrics zoom (pinch-to-font-scale) ====== */
.lyrics-root {
  touch-action: pan-y;
  --lyrics-scale: 1;
}
.lyrics-root .bait-content, .lyrics-root [data-bait] {
  font-size: calc(1em * var(--lyrics-scale));
}
.lyrics-root .reff-content, .lyrics-root [data-reff] {
  font-size: calc(1em * var(--lyrics-scale));
}
